.align-center.forms
  .column.small-12.medium-10

    = form_for(resource,
      as: resource_name,
      url: registration_path(resource_name),
      html: { method: :put }) do |f|

      = devise_error_messages!


      = f.fields_for :user_profile_attributes do |p|
        = p.file_field :thumbnail,
          label: false,
          input_html: { type: "file" }
        /= thumb.hidden_field :thumbnail, value: thumb.object.cached_file_data

      .text-field
        = f.label :email
        = f.email_field :email, autofocus: true, autocomplete: "email"

      - if devise_mapping.confirmable? && resource.pending_reconfirmation?
        %div Currently waiting confirmation for: #{resource.unconfirmed_email}


      .text-field
        = f.label :password
        = f.password_field :password, autocomplete: "off"

      .text-field
        = f.label :password_confirmation
        = f.password_field :password_confirmation, autocomplete: "off"
      .text-field.last
        = f.label :current_password
        = f.password_field :current_password, autocomplete: "off"

      .submit-field
        = f.submit "Save"
